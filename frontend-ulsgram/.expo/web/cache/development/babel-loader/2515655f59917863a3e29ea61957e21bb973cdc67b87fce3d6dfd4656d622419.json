{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { API } from '/frontend-ulsgram/api/api';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function LoginScreen() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMsg = _useState6[0],\n    setErrorMsg = _useState6[1];\n  function handleLogin() {\n    return _handleLogin.apply(this, arguments);\n  }\n  function _handleLogin() {\n    _handleLogin = _asyncToGenerator(function* () {\n      console.log('Instancia API en handleLogin:', API);\n      try {\n        var response = yield API.post('/login', {\n          email: email,\n          password: password\n        });\n        console.log('Login correcto, respuesta:', response.data);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.log('Error de login:', err.message);\n        setErrorMsg(((_err$response = err.response) == null ? void 0 : (_err$response$data = _err$response.data) == null ? void 0 : _err$response$data.message) || err.message);\n      }\n    });\n    return _handleLogin.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    style: {\n      padding: 20\n    },\n    children: [_jsx(TextInput, {\n      placeholder: \"Correo\",\n      value: email,\n      onChangeText: setEmail,\n      autoCapitalize: \"none\",\n      style: {\n        borderWidth: 1,\n        borderColor: '#ccc',\n        marginBottom: 10,\n        padding: 8\n      }\n    }), _jsx(TextInput, {\n      placeholder: \"Contrase\\xF1a\",\n      value: password,\n      onChangeText: setPassword,\n      secureTextEntry: true,\n      style: {\n        borderWidth: 1,\n        borderColor: '#ccc',\n        marginBottom: 10,\n        padding: 8\n      }\n    }), errorMsg ? _jsx(Text, {\n      style: {\n        color: 'red',\n        marginBottom: 10\n      },\n      children: errorMsg\n    }) : null, _jsx(Button, {\n      title: \"Iniciar sesi\\xF3n\",\n      onPress: handleLogin\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","View","TextInput","Button","Text","API","jsx","_jsx","jsxs","_jsxs","LoginScreen","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","errorMsg","setErrorMsg","handleLogin","_handleLogin","apply","arguments","_asyncToGenerator","console","log","response","post","data","err","_err$response","_err$response$data","message","style","padding","children","placeholder","value","onChangeText","autoCapitalize","borderWidth","borderColor","marginBottom","secureTextEntry","color","title","onPress"],"sources":["C:/Users/Madeline/Documents/GitHub/ULSGRAMM/frontend-ulsgram/screens/Auth/LoginScreen.js"],"sourcesContent":["// src/screens/LoginScreen.js\nimport React, { useState } from 'react';\nimport { View, TextInput, Button, Text } from 'react-native';\nimport { API } from '/frontend-ulsgram/api/api'; \n\nexport default function LoginScreen() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMsg, setErrorMsg] = useState('');\n\n  async function handleLogin() {\n    // Verificamos que la instancia no sea undefined\n    console.log('Instancia API en handleLogin:', API);\n\n    try {\n      const response = await API.post('/login', {\n        email,\n        password,\n      });\n\n      console.log('Login correcto, respuesta:', response.data);\n      // Aquí puedes guardar el token, navegar, etc.\n    } catch (err) {\n      console.log('Error de login:', err.message);\n      setErrorMsg(err.response?.data?.message || err.message);\n    }\n  }\n\n  return (\n    <View style={{ padding: 20 }}>\n      <TextInput\n        placeholder=\"Correo\"\n        value={email}\n        onChangeText={setEmail}\n        autoCapitalize=\"none\"\n        style={{\n          borderWidth: 1,\n          borderColor: '#ccc',\n          marginBottom: 10,\n          padding: 8,\n        }}\n      />\n      <TextInput\n        placeholder=\"Contraseña\"\n        value={password}\n        onChangeText={setPassword}\n        secureTextEntry\n        style={{\n          borderWidth: 1,\n          borderColor: '#ccc',\n          marginBottom: 10,\n          padding: 8,\n        }}\n      />\n      {errorMsg ? (\n        <Text style={{ color: 'red', marginBottom: 10 }}>{errorMsg}</Text>\n      ) : null}\n      <Button title=\"Iniciar sesión\" onPress={handleLogin} />\n    </View>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}